<ion-app>
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button defaultHref="login"></ion-back-button>
      </ion-buttons>
      <ion-title>Emprestimo</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content padding>
    <form [formGroup]="itenLocacaoForm">
      <ion-item>
        <ion-label>Categoria<ion-text style="color:red">*
          </ion-text>
        </ion-label>
        <ionic-selectable formControlName="categoria" [items]="listaCategoria" itemValueField="id" itemTextField="nome"
          [canSearch]="true" (onChange)="categoriaChange($event)">
        </ionic-selectable>
      </ion-item>
    <ion-item>
      <ion-label>Material<ion-text style="color:red">*
      </ion-text></ion-label>
      <ionic-selectable formControlName="material" [items]="listaMaterial" itemValueField="id"
        itemTextField="descricao" [canSearch]="true" (onChange)="materialChange($event)" #portComponent>
      </ionic-selectable>
    </ion-item>
    <ion-item>
      <div class="controls">
        <ion-label class="inputCustom" position="floating">Quantidade<ion-text style="color:red">*
          </ion-text>
        </ion-label>
        <ion-input type="text" formControlName='quantidade'></ion-input>
      </div>
    </ion-item>
      <button class="mt btn centro-btn" style="background-color:#4aba70;margin-top:5% " expand="full"
      color="secondary" [disabled]="!itenLocacaoForm.valid" (click)="addMaterial()" >
        Salvar
      </button>
      <br>
    </form>
    <hr style="border-top:solid 1px; border-color: grey;">
    <ion-item *ngFor="let itens of listaItensLocacao; let i = index">
      <ion-avatar slot="start">
        <img width="30px" height="30px"
          src="https://blog.certisign.com.br/wp-content/uploads/2018/10/certo.png?cod_rev=38788">
      </ion-avatar>
      <ion-label>
        <h2>Material: <strong>{{itens.material.descricao}}</strong></h2>
        <h3>Quantidade: <strong>{{itens.quantidade}}</strong></h3>
        <ion-button color="danger" (click)="deletar(i)"><ion-icon name="trash"></ion-icon></ion-button>
      </ion-label>
    </ion-item>
    <ion-fab horizontal="end" vertical="bottom" slot="fixed">
      <ion-fab-button color="success" (click)="cadastrarEmprestimo()">
        <ion-icon name="checkmark"></ion-icon>
      </ion-fab-button>
    </ion-fab>
   

  </ion-content>
</ion-app>